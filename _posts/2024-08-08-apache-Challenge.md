---
title: "[2주차 TIL] KnockOn Bootcamp - Apache (Challenge)"
published: true
---

|

# 아파치와 Nginx의 차이점 이해하기

## 아키텍처

- **아파치 (Apache)**

**`Process-driven (프로세스 기반)`**: 각 클라이언트 요청에 대해 새로운 프로세스를 생성하거나 쓰레드를 생성

이를 MPM (Multi-Processing Module)이라는 모듈을 통해 관리

|

**`대표적인 MPM`**: prefork, worker, event

`prefork`: 각 요청마다 별도의 프로세스를 생성하여 안정적이지만 메모리 사용량이 많음

`worker`: 각 요청마다 쓰레드를 생성하여 메모리 사용 효율이 좋음

`event`: worker 기반이지만 Keep-Alive 연결을 보다 효율적으로 처리함

|

- **Nginx**

**`Event-driven (이벤트 기반)`**: 비동기 이벤트 기반 아키텍처를 사용

적은 수의 워커 프로세스로 많은 수의 클라이언트 요청을 처리할 수 있음

-- 높은 성능과 낮은 리소스 사용

|

## 성능

- **아파치 (Apache)**

동시 연결 처리 능력이 Nginx에 비해 상대적으로 낮음

*동적 콘텐츠* 처리 (CGI, PHP)에서 성능이 좋음

|

- **Nginx**

높은 동시 연결 처리 능력. 트래픽이 많은 사이트에서 뛰어난 성능을 보임

*정적 콘텐츠* 제공 속도가 매우 빠름

|

## 설정 파일

- **아파치 (Apache)**

주로 httpd.conf 또는 apache2.conf를 사용

.htaccess 파일을 통해 디렉터리별 설정을 덮어쓸 수 있음

.htaccess 파일을 통해 개별 디렉터리에서 설정을 변경할 수 있는 유연성을 제공하지만, 파일을 매 요청마다 읽어야 하기 때문에 성능 저하가 발생할 수 있음

|

- **Nginx**

설정 파일은 주로 nginx.conf를 사용

.htaccess와 같은 디렉터리별 설정 파일을 지원하지 않음

모든 설정이 단일 또는 소수의 파일에 집약되어 있어, 설정 관리가 상대적으로 단순하며 성능 상의 이점이 있음

|

# 모듈 및 기능 확장

- **아파치 (Apache)**

다양한 모듈을 통해 기능을 확장할 수 있음

동적으로 모듈을 로드하고 언로드할 수 있음

모듈이 많아 다양한 요구 사항을 충족할 수 있지만, 모듈 로드로 인한 성능 저하가 있을 수 있음

|

- **Nginx**

핵심 기능을 확장할 수 있는 모듈을 지원하지만, *컴파일 시점*에 모듈을 포함해야 합니다.

동적 모듈 로드를 지원하지 않음

*경량화*된 코어와 모듈로 높은 성능을 유지할 수 있음

|

## 프록시 및 로드 밸런싱

**`리버스 프록시`**

`포워드 프록시`: 클라이언트 -- 포워드 프록시 서버 -- 웹 서버

클라이언트를 대신해주는 프록시 서버

클라이언트가 프록시를 설정함

|

`리버스 프록시`: 클라이언트 -- 리버스 프록시 서버 -- 백엔드 서버

서버를 대신해주는 프록시 서버

서버가 프록시를 설정함

자체적으로 로드 밸런싱 기능이 있음

|

**`로드 밸런싱`**

여러 서버에 걸쳐 네트워크 트래픽을 분산시킴

서버의 과부하 방지, 웹 서비스 성능과 안정성을 향상시키는 기술

로드 밸런서는 클라이언트의 요청을 여러 서버에 균등하게 배분하여 각 서버 부하를 최소화함

|

- **아파치 (Apache)**

'mod_proxy' 모듈을 통해 리버스 프록시와 로드 밸런싱 기능을 제공

|

- **Nginx**

리버스 프록시와 로드 밸런싱 기능이 기본적으로 내장되어 있어, 설정이 간단하고 성능이 우수

주로 프록시 서버 및 로드 밸런서로 많이 사용

|


# 사용

- **아파치 (Apache)**

다양한 기능과 모듈을 필요로 하는 경우 사용

PHP와의 통합이 용이하여 LAMP 스택에서 많이 사용

|

`LAMP`: 웹 개발 환경을 구성하는 소프트웨어 스택

(Linux, Apache, MySQL, PHP) 4가지 소프트웨어 기술의 번들

정적, 동적 웹 콘텐츠 모두 제작 가능

|

- **Nginx**

높은 성능과 낮은 리소스 사용이 요구되는 경우 사용

정적 콘텐츠 제공, 리버스 프록시, 로드 밸런싱 역할에 적합

LEMP (Linux, Nginx, MySQL, PHP) 스택에서 많이 사용

|

## 정리

| 특징 | Apache | Nginx |
|:----|:----|:----|
| 아키텍처 | 프로세스 기반 (MPM) - prefork, worker, event | 이벤트 기반 |
| 성능 | 동적 콘텐츠 처리에 강점 (CGI, PHP)  동시 연결 처리 능력이 Nginx보다 낮음 | 정적 콘텐츠 제공 속도가 빠름  높은 동시 연결 처리 능력 |
| 설정 파일 | httpd.conf 또는 apache2.conf 사용  .htaccess 파일로 디렉터리별 설정 가능 | nginx.conf 사용  .htaccess와 같은 디렉터리별 설정 파일 없음 |
| 모듈과 기능 확장 | 다양한 모듈을 동적으로 로드 가능 | 컴파일 시 모듈 포함, 동적 모듈 로드 불가 |
| 프록시와 로드 밸런싱 | mod_proxy 모듈로 제공 | 기본적으로 내장된 리버스 프록시 및 로드 밸런싱 기능 |
| 사용 사례 |	다양한 기능과 모듈이 필요한 경우 유리  LAMP 스택에서 많이 사용됨 | 높은 성능과 낮은 리소스 사용이 요구되는 경우 유리  정적 콘텐츠 제공, 리버스 프록시, 로드 밸런싱에 적합  LEMP 스택에서 많이 사용됨

|

---

|

# Tomcat의 대해 이해하기


# apache 로컬환경 or 클라우드서버 에서 설치 후 실습해보기



